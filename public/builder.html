<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="stylesheet" href="builder.css"></link>
    <title>Word Board Builder</title>
  </head>
  <body>
      <form id="buildIframe">
          <h1>Word Board</h1>
          <label>
              Words <small>(Separate with commas.)</small>
              <input id="word"/>
          </label>
          <label>
            Section
            <select id="section">
                <optgroup label="Section 1">
                  <option>1.1</option>
                  <option>1.2</option>
                  <option>1.3</option>
                  <option>1.4</option>
                  <option>1.5</option>
                  <option>1.6</option>
                </optgroup>
                <optgroup label="Section 2">
                  <option>2.1</option>
                  <option>2.2</option>
                  <option>2.3</option>
                  <option>2.4</option>
                  <option>2.5</option>
                </optgroup>
                <optgroup label="Section 3">
                  <option>3.1</option>
                  <option>3.2</option>
                  <option>3.3</option>
                  <option>3.4</option>
                  <option>3.5</option>
                </optgroup>
                <optgroup label="Section 4">
                  <option>4.1</option>
                  <option>4.2</option>
                  <option>4.3</option>
                  <option>4.4</option>
                </optgroup>
                <optgroup label="Section 5">
                  <option>5.1</option>
                  <option>5.2</option>
                  <option>5.3</option>
                  <option>5.4</option>
                  <option>5.5</option>
                </optgroup>
                <optgroup label="Section 6">
                  <option>6.1</option>
                  <option>6.2</option>
                  <option>6.3</option>
                  <option>6.4</option>
                </optgroup>
            </select>
        </label>
        <button id="viewPage">View Page</button>
          <button>Generate iFrame Code</button>
      </form>
      <textarea id="iframeCode"></textarea>
      <script>
          document.getElementById("buildIframe").addEventListener("submit", function(event){
            event.preventDefault();
            const formData = {
                word: document.querySelector("#word").value.replace(/ /g,"").toLowerCase(),
                section: document.querySelector("#section").value
            };
            console.log(formData)
            document.querySelector("#iframeCode").classList.add("visible");
            document.querySelector("#iframeCode").innerText= `<div style="width: 100%;height:800px;"><iframe src="https://wordboard.adriandunham.com/?word=${formData.word}&section=${formData.section}&banner=false" id="WordBoard" title="Word Board" style="width: 100%;height:100%;"></iframe></div>`
        });

        document.getElementById("viewPage").addEventListener("click", function(event){
            event.preventDefault()
            //replace('/[^a-z0-9]+/', '-', strtolower($str)), '-')
            const formData = {
                word: document.querySelector("#word").value.replace(/ /g,"").toLowerCase(),
                section: document.querySelector("#section").value
            };
            console.log(formData)
            const url = `https://wordboard.adriandunham.com/?word=${formData.word}&section=${formData.section}&banner=false`;
            var win = window.open(url, '_blank');
            win.focus();
        });
      </script>
  </body>
</html>
